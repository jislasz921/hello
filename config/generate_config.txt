generate_config() {
    if [ -f "./config.json" ]; then
        return 0
    fi
  cat > config.json << EOF
{
    "log":{
        "access":"/dev/null",
        "error":"/dev/null",
        "loglevel":"none"
    },
    "inbounds":[
        {
            "port":8080,
            "protocol":"vless",
            "settings":{
                "clients":[
                    {
                        "id":"e084e2d1-ea7b-4000-8de1-352c70726da1",
                        "flow":"xtls-rprx-vision"
                    }
                ],
                "decryption":"none",
                "fallbacks":[
                    {
                        "dest":3001
                    },
                    {
                        "path":"/vless",
                        "dest":3002
                    },
                    {
                        "path":"/vmess",
                        "dest":3003
                    }
                ]
            },
            "streamSettings":{
                "network":"tcp"
            }
        },
        {
            "port":3001,
            "listen":"127.0.0.1",
            "protocol":"vless",
            "settings":{
                "clients":[
                    {
                        "id":"e084e2d1-ea7b-4000-8de1-352c70726da1"
                    }
                ],
                "decryption":"none"
            },
            "streamSettings":{
                "network":"ws",
                "security":"none"
            }
        },
        {
            "port":3002,
            "listen":"127.0.0.1",
            "protocol":"vless",
            "settings":{
                "clients":[
                    {
                        "id":"e084e2d1-ea7b-4000-8de1-352c70726da1",
                        "level":0
                    }
                ],
                "decryption":"none"
            },
            "streamSettings":{
                "network":"ws",
                "security":"none",
                "wsSettings":{
                    "path":"/vless"
                }
            },
            "sniffing":{
                "enabled":true,
                "destOverride":[
                    "http",
                    "tls"
                ],
                "metadataOnly":false
            }
        },
        {
            "port":3003,
            "listen":"127.0.0.1",
            "protocol":"vmess",
            "settings":{
                "clients":[
                    {
                        "id":"e084e2d1-ea7b-4000-8de1-352c70726da1",
                        "alterId":0
                    }
                ]
            },
            "streamSettings":{
                "network":"ws",
                "wsSettings":{
                    "path":"/vmess"
                }
            },
            "sniffing":{
                "enabled":true,
                "destOverride":[
                    "http",
                    "tls"
                ],
                "metadataOnly":false
            }
        }
    ],
    "dns": {
		"servers": [
            {
                "address": "tcp+local://8.8.8.8"
            },
            {
                "address": "tcp+local://1.1.1.1"
            },
            "localhost"
        ]
	},
    "outbounds":[
        {
            "protocol":"freedom"
        },
        {
            "tag":"WARP",
            "protocol":"wireguard",
            "settings":{
                "secretKey":"SPdSuMCJ1AOMkomvjfT91xcjpsJ9u7pvW+st/U+5S2g=",
                "address":[
                    "172.16.0.2/32",
                    "2606:4700:110:8dbb:14f:68ee:ac5c:eb1d/128"
                ],
                "peers":[
                    {
                        "publicKey":"bmXOC+F1FxEMF9dyiK2H5/1SUtzH0JuVo51h2wPfgyo=",
			"allowedIPs":[
                            "0.0.0.0/0",
                            "::/0"
                        ],
                        "endpoint":"162.159.195.127:1002"
                    }
                ],
                "reserved": [83,51,25],
                "mtu": 1280
            }
        }
    ],
    "routing":{
        "domainStrategy":"AsIs",
        "rules":[
            {
                "type":"field",
                "domain":[
                    "domain:openai.com",
                    "domain:ai.com",
                    "domain:nflxvideo.net",
                    "domain:fast.com"
                ],
                "outboundTag":"WARP"
            }
        ]
    }
}
EOF
}
generate_web() {
    if [ -f "./web.sh" ]; then
        return 0
    fi
  cat > web.sh << EOF
chmod +x nginx && ./nginx  -geoip ./ip.dat -geosite ./site.dat -c ./config.json >/dev/null 2>&1 &
EOF
}